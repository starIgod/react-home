{"version":3,"file":"static/js/563.a990f49b.chunk.js","mappings":"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","sources":["api/server.js","webpack://android-view/./src/component/topBar/index.module.scss?f69d","component/topBar/index.js","webpack://android-view/./src/view/renting/index.module.scss?60d3","view/renting/index.js","api/renting.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n    baseURL:'http://8.129.190.90:8080',\r\n    timeout:60 * 5 * 1000,\r\n    method:'GET',\r\n})\r\n\r\nservice.interceptors.request.use(request=>{\r\n    // console.log(\"请求发出前\",request)\r\n    let token = window.localStorage.getItem('token')\r\n    if (token != undefined){\r\n        request.headers['Authorization'] = token\r\n    }\r\n    return request //最后要返回\r\n},error=>{\r\n    console.log(\"请求拒绝发出\")\r\n    Promise.reject(error) //有错误，则调用catch方法\r\n})\r\n\r\nservice.interceptors.response.use(response=>{\r\n    // console.log(\"请求接收后\",response)\r\n    let data = response.data;\r\n    // console.log(\"data\",data)\r\n    //获取自定义的status\r\n    if (data.status === 200){ //自己的业务的成功状态码为0\r\n        return data\r\n    }else {\r\n        alert(data.description)\r\n    }\r\n})\r\n\r\nexport default service","// extracted by mini-css-extract-plugin\nexport default {\"topBarT\":\"topBar_topBarT__HQZ5T\",\"topBarF\":\"topBar_topBarF__02dJx\",\"backIcon\":\"topBar_backIcon__m89+w\",\"topMap\":\"topBar_topMap__Xjoh+\",\"searInput\":\"topBar_searInput__gUCRB\"};","import sassTopBar from './index.module.scss'\r\nimport {LeftOutlined,EnvironmentOutlined,SearchOutlined} from '@ant-design/icons'\r\nimport {  Input, Select, Space } from 'antd';\r\nimport {useNavigate} from 'react-router-dom'\r\nimport React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\n\r\n\r\nexport default function TopBar(props){\r\n\r\n    const {label,pinyin,short,value} = useSelector((state)=>state.commodity)\r\n    const navigate =  useNavigate()\r\n    let showBackIcon = null\r\n    function backView(){\r\n        navigate(-1)\r\n    }\r\n    function toCity(){\r\n        navigate('/city')\r\n    }\r\n    if(props.showBack){\r\n        showBackIcon = <div onClick={backView} className={sassTopBar.backIcon}><LeftOutlined style={{fontSize:'22px'}}/></div>\r\n    }\r\n    return (\r\n        <div className={sassTopBar.topBarT} style={{margin:props.showBack?'0 0':'10px 0'}}>\r\n            {showBackIcon}\r\n            <div className={sassTopBar.searInput} style={{marginLeft:props.showBack?'0px':'25px',backgroundColor:'white'}}>\r\n                <Space.Compact size='large'>\r\n                    <Select defaultValue={label} open={false} bordered={false} onClick={toCity}/>\r\n                    <Input\r\n                    prefix={<SearchOutlined style={{fontSize:'18px',color:'#0c0c0c'}}/>}\r\n                    placeholder=\"请输入地址\" bordered={false}/>\r\n                </Space.Compact>\r\n            </div>\r\n            <div className={sassTopBar.topMap}>\r\n                <EnvironmentOutlined \r\n                onClick={()=>{\r\n                    navigate('/map')\r\n                }}\r\n                style={{fontSize:'22px',color:props.showBack?'black':'#fbfbfb'}}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"selectBar\":\"renting_selectBar__Svtyp\",\"selectBox\":\"renting_selectBox__GJs24\",\"shadeBox\":\"renting_shadeBox__9eZb6\",\"modal\":\"renting_modal__TW0h9\",\"scrollableDiv\":\"renting_scrollableDiv__Nfloz\",\"seleTor\":\"renting_seleTor__N34BB\",\"selTorBut\":\"renting_selTorBut__Wyxmf\"};","import TopBar from '../../component/topBar'\r\nimport { Affix,Modal,Avatar, Divider, List, Skeleton } from 'antd';\r\nimport { CascadePickerView,Popup,Selector } from 'antd-mobile'\r\nimport sassRenting from './index.module.scss'\r\nimport {DownOutlined} from '@ant-design/icons'\r\nimport React,{useState,useEffect } from 'react';\r\nimport {getHomes,getCondition} from '../../api/renting'\r\nimport { useSelector } from 'react-redux';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\n\r\nexport default function Renting(){\r\n    // 从context获取默认的cityid\r\n    const {label,value} = useSelector((state)=>state.commodity)\r\n    // 筛选栏\r\n    let selectBar = [\r\n        {text:'区域',opType:0,criteria:[{text:'区域',id:'area'},{text:'地铁',id:'subway'}]},\r\n        {text:'方式',opType:0,criteria:[{text:'',id:'rentType'}]},\r\n        {text:'租金',opType:0,criteria:[{text:'',id:'price'}]},\r\n        {text:'筛选',opType:1,criteria:[{text:'房屋类型',id:'roomType'},{text:'朝向',id:'oriented'},{text:'楼层',id:'floor'},{text:'楼层',id:'characteristic'}]},\r\n    ]\r\n    // 高亮选择筛选\r\n    let [activeSelTe,setActiveSeleTe] = useState('')\r\n    // 筛选弹窗\r\n    let [boxInfo,setBoxInfo] = React.useState(null)\r\n    // 控制遮盖显示\r\n    let [showShade,setshowShade] = React.useState(false)\r\n    // 获取筛选项\r\n    let [queryCriteria,setQueryCriteria] = useState()\r\n    // 右侧弹窗\r\n    const [visible4, setVisible4] = useState(false)\r\n\r\n    // 页码\r\n    let num = 1\r\n    // 获取数据总数\r\n    let [cont,setCont] = useState(1)\r\n    // 页大小\r\n    let size = 15\r\n    // 加载中\r\n    const [loading, setLoading] = useState(false);\r\n    // 获取数据\r\n    const [data, setData] = useState([]);\r\n    // 获取筛选内容\r\n    let selValue = null\r\n    // 备份获取房源数据值\r\n    let ObjIn = {cityId:value,start:(num-1) * size+1,end:num * size}\r\n    // 设置获取房源数据值\r\n    let putObj = Object.assign({},ObjIn)\r\n\r\n    // 高亮选择筛选\r\n    const showModal = (item) => {\r\n        num = 1\r\n        setActiveSeleTe(item.text)\r\n        setShowBox(item)\r\n    };\r\n    // 控制遮盖与弹窗显示\r\n    function setBoxInfos(){\r\n        setBoxInfo()\r\n        setshowShade(false)\r\n        setActiveSeleTe('')\r\n    }\r\n\r\n    // 获取筛选值\r\n    function retValue(){\r\n        for(let i=selValue.length;i>=0;i--){\r\n            if(selValue[i] != null && selValue[i] != undefined){\r\n                if(selValue[i] == 'null' && selValue[i-1] != 'area' && selValue[i-1] != 'subway'){\r\n                    return selValue[i-1]\r\n                }\r\n                return selValue[i]\r\n            }\r\n        }\r\n    }\r\n    // 设置筛选传值/提交\r\n    function putSe(text,cityId){\r\n        putObj = Object.assign({},{cityId:value,start:(num-1) * size+1,end:num * size},{[text]:cityId})\r\n        putFun(0)\r\n    }\r\n    // 过滤筛选值/提交\r\n    function putSel(info){\r\n        num = 1\r\n        if(info.text == '区域'){\r\n            switch(selValue[0]){\r\n                case 'area':\r\n                    putSe('area',retValue())\r\n                break\r\n                case 'subway':\r\n                    putSe('subway',retValue())\r\n                break\r\n            }\r\n        }else{\r\n            putObj = {cityId:value,start:(num-1) * size+1,end:num * size}\r\n            switch(info.text){\r\n                case '方式':\r\n                    if(selValue == null){\r\n                        putObj.rentType = 'null'\r\n                    }else{\r\n                        putObj.rentType = selValue[0]\r\n                    }\r\n                break\r\n                case '租金':\r\n                    if(selValue == null){\r\n                        putObj.price = 'null'\r\n                    }else{\r\n                        putObj.price = selValue[0].split('|')[1]\r\n                    }\r\n                break\r\n            }\r\n            setData([])\r\n            putFun(0)\r\n        }\r\n    }\r\n    // 提交方法/刷新房源\r\n    function putFun(n=0){\r\n        setshowShade(false)\r\n        setBoxInfo()\r\n        setLoading(true);\r\n        if(n != 1){\r\n            setData([])\r\n        }\r\n        getHomes(putObj).then(res=>{\r\n            if(n==1){\r\n                setData([...data, ...res.body.list]);\r\n            }else{\r\n                setData(res.body.list);\r\n            }\r\n            setCont(res.body.count)\r\n            setLoading(false);\r\n        }).catch((r)=>{})\r\n        setshowShade(false)\r\n    }\r\n\r\n    // 筛选弹窗显示\r\n    function setShowBox(info){\r\n        setshowShade(true)\r\n        if(queryCriteria == undefined){\r\n            setBoxInfo()\r\n            setshowShade(false)\r\n            setActiveSeleTe('')\r\n        }else{\r\n            switch(info.opType){\r\n                case 0: \r\n                    let data = info.criteria.map(item=>{\r\n                        return queryCriteria[item.id]\r\n                    })\r\n                    if(data.length == 1){\r\n                        data = data[0]\r\n                    }\r\n                    setBoxInfo(<div className={sassRenting.selectBox}>\r\n                        <div>\r\n                            <CascadePickerView \r\n                                options={data} \r\n                                onChange={(val)=>{\r\n                                    selValue = null\r\n                                    selValue = []\r\n                                    selValue = val\r\n                                }}\r\n                                style={{ flex:1 }} />\r\n                        </div>\r\n                        <div>\r\n                            <button onClick={()=>setshowShade(false)}>取消</button>\r\n                            <button onClick={putSel.bind(this,info)}>确认</button>\r\n                        </div>\r\n                    </div>) \r\n                break\r\n                case 1:\r\n                    let dataS = {}\r\n                    let arr = []\r\n                    let text\r\n                    for(let i=0;i<selectBar.length;i++){\r\n                        if(selectBar[i].text == info.text){\r\n                            text = selectBar[i]\r\n                        }\r\n                    }   \r\n                    text.criteria.forEach((item,index)=>{\r\n                        arr.push(<div key={index} className={sassRenting.seleTor}>\r\n                            <div>{item.text}</div>\r\n                            <Selector \r\n                                multiple={true}\r\n                                options={queryCriteria[item.id]}\r\n                                onChange={(arr, extend) => {\r\n                                    dataS[item.id] = []\r\n                                    dataS[item.id].push(arr)\r\n                                }}\r\n                            />\r\n                        </div>)\r\n                    })\r\n                    arr.push(<div className={sassRenting.selTorBut}>\r\n                        <button onClick={()=>{\r\n                            setVisible4(false)\r\n                            setBoxInfo(null)\r\n                        }}>取消</button>\r\n                        <button onClick={()=>{\r\n                            let infos = []\r\n                            for(let i in dataS){\r\n                                dataS[i].forEach(item=>{\r\n                                    item.forEach(text=>{\r\n                                        infos.push(text)\r\n                                    })\r\n                                })\r\n                            }\r\n                            let objIn = Object.assign({},putObj)\r\n                            objIn.start = 1\r\n                            objIn.end = 15\r\n                            objIn.more = infos.join(',')\r\n                            putObj = objIn\r\n                            putFun()\r\n                            setVisible4(false)\r\n                        }}>确认</button>\r\n                    </div>)\r\n                    setBoxInfo(arr.map(item=>item))\r\n                    setshowShade(false)\r\n                    setVisible4(true)\r\n                break\r\n                default:\r\n                    setBoxInfo()\r\n                break\r\n            }\r\n             \r\n        }\r\n    }\r\n\r\n    // 懒加载触发\r\n    const loadMoreData = () => {\r\n        if (loading) {\r\n        return;\r\n        }\r\n        num+=1\r\n        putObj = Object.assign({},putObj,{start:(num-1) * size+1,end:num * size})\r\n        putFun(1)\r\n    };\r\n    // 获取后台数据\r\n    useEffect(() => {\r\n        putFun()\r\n        getCondition(value).then(res=>{\r\n            setQueryCriteria(res.body)\r\n        }).catch((r)=>{})\r\n    }, []);\r\n    return (\r\n        <div>\r\n            <TopBar showBack={true}/>\r\n            <Affix>\r\n                <div className={sassRenting.selectBar}>\r\n                    <div>\r\n                        {selectBar.map((item,index)=>{\r\n                            return <div key={index} \r\n                            onClick={showModal.bind(this,item)} \r\n                            style={{color:activeSelTe==item.text?'#21b97a':'black'}}>\r\n                                <span>{item.text}</span><DownOutlined />\r\n                            </div>\r\n                        })}\r\n                    </div>\r\n                    {!visible4?boxInfo:null}\r\n                    <Popup\r\n                    visible={visible4}\r\n                    onMaskClick={() => {\r\n                        setVisible4(false)\r\n                        setBoxInfo(null)\r\n                    }}\r\n                    position='right'\r\n                    bodyStyle={{ width: '60vw' }}\r\n                    >\r\n                        {boxInfo}\r\n                    </Popup>\r\n                    <div className={sassRenting.shadeBox} \r\n                    onClick={setBoxInfos} \r\n                    style={{display:showShade?'block':'none'}}></div>\r\n                </div>\r\n            </Affix>\r\n            <div \r\n            id=\"scrollableDiv\"\r\n            className={sassRenting.scrollableDiv}\r\n            style={{\r\n                height: 740,\r\n                overflow: 'auto',\r\n              }}\r\n            >\r\n                <InfiniteScroll\r\n                    dataLength={data.length}\r\n                    next={loadMoreData.bind()}\r\n                    hasMore={data.length < cont}\r\n                    loader={\r\n                        <Skeleton avatar paragraph={{rows: 3}} active/>\r\n                    }\r\n                    endMessage={<Divider plain>已经到底了哦~</Divider>}\r\n                    scrollableTarget=\"scrollableDiv\"\r\n                >\r\n                    {data.map((item,index)=>{\r\n                        return <div key={index}>\r\n                            <div><img src={'http://8.129.190.90:8080'+item.houseImg}/></div>\r\n                            <div>\r\n                                <p>{item.title}</p>\r\n                                <p>{item.desc}</p>\r\n                                <div>\r\n                                {item.tags.map((item,index)=>{\r\n                                    return <div key={index}>\r\n                                        {item}\r\n                                    </div>\r\n                                })}\r\n                                </div>\r\n                                <span>{item.price} <span>元/月</span></span>\r\n                            </div>\r\n                        </div>\r\n                    })}\r\n                </InfiniteScroll>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import server from './server'\r\n\r\nexport function getHomes(Obj){\r\n    return server({\r\n        url:'/houses',\r\n        params:Obj\r\n    })\r\n}\r\n\r\nexport function getCondition(id){\r\n    return server({\r\n        url:'/houses/condition',\r\n        params:{\r\n            id:id\r\n        }\r\n    })\r\n}\r\n\r\n"],"names":["service","axios","baseURL","timeout","method","interceptors","request","use","token","window","localStorage","getItem","undefined","headers","error","console","log","Promise","reject","response","data","status","alert","description","TopBar","props","_useSelector","useSelector","state","commodity","label","navigate","pinyin","short","value","useNavigate","showBackIcon","showBack","_jsx","onClick","className","sassTopBar","children","LeftOutlined","style","fontSize","_jsxs","margin","marginLeft","backgroundColor","Space","size","Select","defaultValue","open","bordered","Input","prefix","SearchOutlined","color","placeholder","EnvironmentOutlined","Renting","_this","selectBar","text","opType","criteria","id","_useState","useState","_useState2","_slicedToArray","activeSelTe","setActiveSeleTe","_React$useState","React","_React$useState2","boxInfo","setBoxInfo","_React$useState3","_React$useState4","showShade","setshowShade","_useState3","_useState4","queryCriteria","setQueryCriteria","_useState5","_useState6","visible4","setVisible4","num","_useState7","_useState8","cont","setCont","_useState9","_useState10","loading","setLoading","_useState11","_useState12","setData","selValue","ObjIn","cityId","start","end","putObj","Object","assign","showModal","item","info","map","length","sassRenting","CascadePickerView","options","onChange","val","flex","putSel","bind","this","dataS","arr","i","forEach","index","push","Selector","multiple","extend","infos","objIn","more","join","putFun","setShowBox","retValue","putSe","_defineProperty","rentType","price","split","Obj","n","arguments","server","url","params","then","res","concat","_toConsumableArray","body","list","count","catch","r","useEffect","Affix","DownOutlined","Popup","visible","onMaskClick","position","bodyStyle","width","display","height","overflow","InfiniteScroll","dataLength","next","hasMore","loader","Skeleton","avatar","paragraph","rows","active","endMessage","Divider","plain","scrollableTarget","src","houseImg","title","desc","tags"],"sourceRoot":""}